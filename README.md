# IOTAI_Hw01: 互動式線性迴歸分析工具

## 專案概述

本專案旨在建立一個互動式的 Web 應用程式，用於視覺化和探索線性迴歸模型 (y = ax + b)。使用者可以透過調整係數 `a`、點的數量和雜訊方差等參數，即時觀察這些參數如何影響資料分佈、迴歸線的擬合以及模型預測的準確性。專案從 Flask 框架開始開發，最終轉換為 Streamlit 應用程式，以便於部署到 Streamlit Cloud。

## CRISP-DM 方法論

### 1. 商業理解 (Business Understanding)

**目標:**

*   提供一個直觀的平台，幫助使用者理解線性迴歸的基本原理。
*   透過互動式調整參數，展示資料特性（如斜率、截距、資料量、雜訊）對線性迴歸模型建立和預測結果的影響。
*   視覺化模型擬合的優劣，並識別資料中的潛在異常值。

**專案發展重點 (參考 `step.md`):**

*   製作一個線性回歸 `y = ax+b` 並隨機產生 100 ~ 10000 個點。
*   將結果顯示在網頁上，最初使用 Flask，後轉換為 Streamlit 框架。
*   允許調整係數 `a`、`b`（後固定 `b`）、點的數量和雜訊方差。
*   將輸入參數介面優化，例如改為拉霸方式調整並設定範圍。
*   標記出距離迴歸線最遠的五個點，以視覺化異常值。

### 2. 資料理解 (Data Understanding)

**資料來源與特性:**

本專案使用合成資料，透過以下公式生成：

`y = ax + b + noise`

*   `x`: 隨機生成的輸入特徵。
*   `a`: 線性模型的斜率，可由使用者調整。
*   `b`: 線性模型的截距，在最終版本中固定為隨機生成值。
*   `noise`: 隨機雜訊，其方差可由使用者調整，模擬真實世界資料的不確定性。

**相關步驟 (參考 `step.md`):**

*   製作一個線性回歸 `y = ax+b` 並隨機產生 100 ~ 10000 個點。
*   增加 `y=ax+b` 中的係數 `a` 跟 `b` 調整與點的數量調整。
*   增加雜訊方差的調整參數。

### 3. 資料準備 (Data Preparation)

由於資料是合成生成的，本專案的資料準備階段主要集中在資料的生成邏輯上，確保生成的資料符合線性迴歸模型的假設，並能透過雜訊方差來模擬不同程度的資料複雜性。

**相關步驟 (參考 `step.md`):**

*   製作一個線性回歸 `y = ax+b` 並隨機產生 100 ~ 10000 個點。

### 4. 建模 (Modeling)

**模型選擇:**

本專案採用 `scikit-learn` 庫中的 `LinearRegression` 模型來擬合生成的資料。該模型會自動計算最佳的斜率和截距，以最小化預測值與實際值之間的平方誤差。

**相關步驟 (參考 `step.md`):**

*   製作一個線性回歸 `y = ax+b`。
*   恢復 `y=ax+b` 模型，但 `b` 係數固定不可調整。

### 5. 評估 (Evaluation)

模型的評估主要透過視覺化方式進行，使用者可以直觀地判斷迴歸線對資料的擬合程度。同時，專案也透過標記異常點來提供額外的評估指標。

**評估指標:**

*   **視覺化擬合:** 觀察迴歸線與原始資料點的貼合程度。
*   **異常值識別:** 標記出距離迴歸線最遠的五個點，幫助使用者理解模型在處理極端值時的表現。

**相關步驟 (參考 `step.md`):**

*   將離最遠的五個點用不同顏色標記出來。

### 6. 部署 (Deployment)

本專案的部署目標是提供一個易於存取和互動的 Web 應用程式。開發過程經歷了從 Flask 到 Streamlit 的轉換，以適應 Streamlit Cloud 的部署需求。

**部署策略:**

*   **Web 框架:** 最初使用 Flask 框架實現 Web 介面，後轉換為 Streamlit 框架以簡化部署和互動性開發。
*   **使用者介面:** 應用 Bootstrap 模板美化網頁，並將輸入數據介面放置在顯示結果的左側，提升使用者體驗。
*   **互動性:** 實現參數拉霸調整、自動執行更新、以及解決相關的錯誤處理（如 `KeyError`、`OSError`、`RuntimeError`）。
*   **部署平台:** 最終目標是部署到 Streamlit Cloud。

**相關步驟 (參考 `step.md`):**

*   將結果利用 Streamlit 框架顯示在網頁上。
*   改用 Flask 架構實現再 Web 上。
*   套用 Bootstrap 模板讓網頁更好看。
*   將輸入數據改在顯示結果的左側。
*   將參數 `a`, `b`, 點數, 方差改為拉霸方式調整，並設定範圍。
*   解決點的數量修改時的錯誤。
*   將拉霸修改後自動執行。
*   解決拉霸自動執行時的 `KeyError` 問題。
*   修正拉霸自動更新圖片的問題。
*   解決點的數量調整時的錯誤，確保每次運算都清除並重新繪圖。
*   嘗試以非偵錯模式執行 Flask 應用程式以解決 `OSError`。
*   使用 Matplotlib Agg 後端解決 `RuntimeError`。
*   將 Flask 應用程式轉換為 Streamlit 應用程式。

## 如何運行 (How to Run)

1.  **克隆儲存庫:**
    ```bash
    git clone https://github.com/shonbo1221-collab/IOTAI_Hw01.git
    cd IOTAI_Hw01
    ```
2.  **安裝依賴:**
    ```bash
    pip install -r requirements.txt
    ```
3.  **運行 Streamlit 應用程式:**
    ```bash
    streamlit run streamlit_app.py
    ```
    應用程式將在您的瀏覽器中打開，通常是 `http://localhost:8501`。

## 檔案結構 (File Structure)

```
IOTAI_Hw01/
├── .streamlit/
│   └── config.toml
├── static/
│   └── plot.png
├── templates/
│   └── index.html
├── GEMINI.md
├── linear_regression.py
├── requirements.txt
├── step.md
└── streamlit_app.py
```

## 貢獻 (Contributing)

歡迎任何形式的貢獻！如果您有任何建議或發現錯誤，請隨時提交 Issue 或 Pull Request。
